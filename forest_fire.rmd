---
title : "Exploratory Visualization in Project Forest Fire"
author: "Kuria Ken"
output: html_document
---

## Introduction

We shall be looking into Forest Fires which can make environmental
issues and jeopardize human lives and property. Understanding when
they happen and what causes them is significant for them. 
The information we'll be working with in this directed venture is
related with a logical examination paper on foreseeing the event 
of backwoods fires in Portugal utilizing demonstrating methods.

Lets begin by loading the necessary packages for this project;

```{r}
#install.packages("tidyverse") (if not yet install on your ide)

library(tidyverse)

```

## Step 1: Loading packages our dataset into a tibble

```{r}
forest_fires <- read_csv("forestfires.csv")
forest_fires

```

Here are descriptions of the variables in the data set and the range of values for each taken from the paper:

X: X-axis spatial coordinate within the Montesinho park map: 1 to 9
Y: Y-axis spatial coordinate within the Montesinho park map: 2 to 9
month: Month of the year: 'jan' to 'dec'
day: Day of the week: 'mon' to 'sun'
FFMC: Fine Fuel Moisture Code index from the FWI system: 18.7 to 96.20
DMC: Duff Moisture Code index from the FWI system: 1.1 to 291.3
DC: Drought Code index from the FWI system: 7.9 to 860.6
ISI: Initial Spread Index from the FWI system: 0.0 to 56.10
temp: Temperature in Celsius degrees: 2.2 to 33.30
RH: Relative humidity in percentage: 15.0 to 100
wind: Wind speed in km/h: 0.40 to 9.40
rain: Outside rain in mm/m2 : 0.0 to 6.4
area: The burned area of the forest (in ha): 0.00 to 1090.84

- What does a single row represent? 

A single row represents charcterics of a fire and its location. 

- How might each of the variables relate to fires ?

Some other variables may depict the covered by the fire and some relate to the water such as 'DMC' and 'rain'.

## Step 2: Data Processing 

This involves organizing and reordering the data present to fit the project questions.


```{r}
forest_fires %>% pull(month) %>% unique

forest_fires %>% pull(day) %>% unique

# converting the month variable into a categorical varaible


month_correct_order <- c("jan", "feb", "mar", "apr", "may", "jun", "jul", "aug", "sep", 
        "oct", "nov", "dec")

# converting the day variable into a categorical varaible

day_correct_order <- c("sun", "mon", "tue", "wed", "thu", "fri", "sat")

forest_fires <- forest_fires %>% 
  mutate(
    month = factor(month, levels = month_correct_order),
    day = factor(day, levels = day_correct_order)
  )


```

## Questions:

1. Which months do forest fires happen the most?

Lets make plots of `month` and `day`  that will summarize fires that appears in each month. 
Once done, we use the visualized plots in the tibble to answer the question.

### Visualization for Monthly Fires

```{r}
monthly_fires <- forest_fires %>%
    group_by(month) %>% 
    summarize(total_fires = nrow())

monthly_fires %>%
    ggplot(aes(x = month, y = total_fires)) +
    geom_col() + 
    labs(
        title = "Total number of forest fires by Month",
        y = "Fire count",
        x = "Month"
    )
 
```

Here we notice that most forest fires happen between August and September. The third most times is in March.

2. Which days of the week do forest fires happen the most?

### Visualization for Day Fires

```{r}
day_fires <- forest_fires %>%
    group_by(day) %>% 
    summarize(total_fires = nrow())

day_fires %>%
    ggplot(aes(x = day, y = total_fires)) +
    geom_col() + 
    labs(
        title = "Total number of forest fires by Days",
        y = "Fire count",
        x = "Days"
    )
 
```

In the plotted barplot, we notice that most fires happened on Sunday, Friday and Saturday. 


## Create Visualizations that help look at Relationship between month and each columns: 

We are loking for possbile Relationship between the columns and time.
The columns :

- FFMC
- DMC
- DC
- ISI
- temp
- RH
- wind
- rain


```{r}

forest_fires_rlshp <- forest_fires %>%
    pivot_longer(
        cols = c("FFMC", "DMC", "DC", "ISI", "temp", "RH", "wind", "rain"),
        names_to = "data_col",
        values_to = "value"
    )

forest_fires_rlshp %>%
    ggplot(aes(x = month, y = value)) +
    geom_boxplot() +
    facet_wrap(vars(data_col), scale = "free_y") +
    labs(
    title = "Plot showing variable columns against time(months)",
    x = "Month",
    y = "Variable value"
    )

```

## Creating Visualization in Severity(extent of damage) of Forest Fire

Checking relationship of other variables and how they relate to `area`. 
using `facet_wrap()`- makes a long ribbon of panelss(generated by any number of variables) 
and wraps it into 2d.


```{r}

forest_fires_rlshp %>%
    ggplot(aes(x =value, y = area)) +
    geom_point() + 
    facet_wrap(vars(data_col), scales = "free_x") + 
    labs(
        title = "Plot of relationships between columns and area burned",
        x = "Value of column",
        y = "Area burned(per ha)"
    )

```

